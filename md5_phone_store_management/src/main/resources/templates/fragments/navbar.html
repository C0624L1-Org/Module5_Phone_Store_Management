<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Navbar</title>
</head>
<body>
<!-- Navbar Fragment -->
<div th:fragment="navbar" class="navbar">
    <div class="navbar-container">
        <div class="logo">
            <img src="/img/fptshop_logo.png" alt="Shop Logo">
            <div class="menu-container">
                <div class="menu-button">
                    <i>‚ò∞</i>
                    <span>Danh m·ª•c</span>
                </div>
                <!-- Dropdown Menu -->
                <div class="dropdown-menu">
                    <div class="menu-item">Danh m·ª•c 1</div>
                    <div class="menu-item">Danh m·ª•c 2</div>
                    <div class="menu-item">Danh m·ª•c 3</div>
                    <div class="menu-item">Danh m·ª•c 4</div>
                </div>
            </div>
        </div>

        <div class="search-container">
            <input type="text" placeholder="Nh·∫≠p t√™n ƒëi·ªán tho·∫°i, m√°y t√≠nh, ph·ª• ki·ªán... c·∫ßn t√¨m">
            <button>üîç</button>
        </div>

        <div class="user-actions">

            <ul>
                <!-- Hi·ªÉn th·ªã n·∫øu ng∆∞·ªùi d√πng ƒë√£ ƒëƒÉng nh·∫≠p -->
                <li sec:authorize="isAuthenticated()" class="nav-item">
                    <span>Xin ch√†o, <span sec:authentication="name"></span>!</span>
                </li>

<!--                <li sec:authorize="isAuthenticated()" class="nav-item dropdown">-->
<!--                    <a class="nav-link dropdown-toggle" href="#" id="navbarAvatarDropdown" role="button"-->
<!--                       data-bs-toggle="dropdown" aria-expanded="false">-->
<!--                        <img th:if="${loggedEmployee != null}"-->
<!--                             th:src="${loggedEmployee.avatar}"-->
<!--                             alt="avatar"-->
<!--                             class="user-avatar"-->
<!--                             style="width:40px; height:40px; border-radius:50%;">-->
<!--                    </a>-->
<!--                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarAvatarDropdown">-->
<!--                        <li><a class="dropdown-item" th:href="@{#}">Th√¥ng tin c√° nh√¢n</a></li>-->
<!--                        <li><a class="dropdown-item" th:href="@{#}">Gi·ªè h√†ng</a></li>-->
<!--                        <li><a class="dropdown-item" th:href="@{#}">L·ªãch s·ª≠ ƒë∆°n h√†ng</a></li>-->
<!--                        <li><a class="dropdown-item" th:href="@{#}">ƒê·ªïi m·∫≠t kh·∫©u</a></li>-->
<!--                        <li><hr class="dropdown-divider"></li>-->
<!--                        <li><a class="dropdown-item" th:href="@{#}">ƒêƒÉng xu·∫•t</a></li>-->
<!--                    </ul>-->
<!--                </li>-->

                <!-- Hi·ªÉn th·ªã n·∫øu ng∆∞·ªùi d√πng ch∆∞a ƒëƒÉng nh·∫≠p -->
                <li sec:authorize="isAnonymous()"><a th:href="@{/login}">ƒêƒÉng nh·∫≠p</a></li>
                <li sec:authorize="isAnonymous()"><a th:href="@{/register}">ƒêƒÉng k√Ω</a></li>
            </ul>
        </div>
    </div>
</div>

<!-- Navbar Script -->
<script th:fragment="navbar-script">
    document.addEventListener('DOMContentLoaded', function() {
        const menuButton = document.querySelector('.menu-button');
        const dropdownMenu = document.querySelector('.dropdown-menu');
        const overlay = document.querySelector('.overlay');

        menuButton.addEventListener('click', function(e) {
            e.stopPropagation();
            dropdownMenu.classList.toggle('show');
            overlay.classList.toggle('show');
        });

        document.addEventListener('click', function(e) {
            if (!e.target.closest('.menu-container')) {
                dropdownMenu.classList.remove('show');
                overlay.classList.remove('show');
            }
        });

        dropdownMenu.addEventListener('click', function(e) {
            e.stopPropagation();
        });
    });
</script>

</body>
</html>