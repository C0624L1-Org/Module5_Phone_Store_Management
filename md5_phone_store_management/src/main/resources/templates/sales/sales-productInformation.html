<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thông tin Hàng hóa</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/custom.css">
</head>
<body>
<div class="wrapper">
    <!-- Sidebar (giữ nguyên như các trang khác) -->

    <!-- Page Content -->
    <div id="content">
        <!-- Top Navbar (giữ nguyên như các trang khác) -->

        <!-- Main Content -->
        <div class="container-fluid">
            <h2 class="mb-4">Thông tin Hàng hóa</h2>

            <div class="card">
                <div class="card-body">
                    <div class="mb-3">
                        <input type="text" class="form-control" id="searchProduct" placeholder="Tìm kiếm sản phẩm...">
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                            <tr>
                                <th>Mã SP</th>
                                <th>Tên sản phẩm</th>
                                <th>Hãng</th>
                                <th>Giá bán</th>
                                <th>Số lượng tồn</th>
                                <th>Thao tác</th>
                            </tr>
                            </thead>
                            <tbody id="productTableBody">
                            <!-- Dữ liệu sẽ được thêm vào đây bằng JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal Chỉnh sửa Sản phẩm -->
<div class="modal fade" id="editProductModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Chỉnh sửa Thông tin Sản phẩm</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="editProductForm">
                    <div class="mb-3">
                        <label for="editProductName" class="form-label">Tên sản phẩm</label>
                        <input type="text" class="form-control" id="editProductName" required>
                    </div>
                    <div class="mb-3">
                        <label for="editProductBrand" class="form-label">Hãng</label>
                        <input type="text" class="form-control" id="editProductBrand" required>
                    </div>
                    <div class="mb-3">
                        <label for="editProductPrice" class="form-label">Giá bán</label>
                        <input type="number" class="form-control" id="editProductPrice" required>
                    </div>
                    <div class="mb-3">
                        <label for="editProductQuantity" class="form-label">Số lượng tồn</label>
                        <input type="number" class="form-control" id="editProductQuantity" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                <button type="button" class="btn btn-primary" onclick="saveProductEdit()">Lưu thay đổi</button>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<!-- Custom JS -->
<script>
    // Dữ liệu mẫu sản phẩm
    const products = [
        { id: 'SP001', name: 'iPhone 15 Pro Max', brand: 'Apple', price: 29990000, quantity: 50 },
        { id: 'SP002', name: 'Samsung Galaxy S24 Ultra', brand: 'Samsung', price: 28990000, quantity: 45 },
        { id: 'SP003', name: 'Xiaomi 14 Pro', brand: 'Xiaomi', price: 18990000, quantity: 60 },
    ];

    function renderProducts() {
        const tbody = document.getElementById('productTableBody');
        tbody.innerHTML = '';
        products.forEach(product => {
            tbody.innerHTML += `
                    <tr>
                        <td>${product.id}</td>
                        <td>${product.name}</td>
                        <td>${product.brand}</td>
                        <td>${product.price.toLocaleString()} VNĐ</td>
                        <td>${product.quantity}</td>
                        <td>
                            <button class="btn btn-sm btn-primary" onclick="editProduct('${product.id}')">
                                <i class="fas fa-edit"></i> Sửa
                            </button>
                        </td>
                    </tr>
                `;
        });
    }

    function editProduct(productId) {
        const product = products.find(p => p.id === productId);
        document.getElementById('editProductName').value = product.name;
        document.getElementById('editProductBrand').value = product.brand;
        document.getElementById('editProductPrice').value = product.price;
        document.getElementById('editProductQuantity').value = product.quantity;

        const editModal = new bootstrap.Modal(document.getElementById('editProductModal'));
        editModal.show();
    }

    function saveProductEdit() {
        // Ở đây bạn sẽ cập nhật thông tin sản phẩm trong cơ sở dữ liệu
        alert('Đã cập nhật thông tin sản phẩm');
        const editModal = bootstrap.Modal.getInstance(document.getElementById('editProductModal'));
        editModal.hide();
        renderProducts();
    }

    document.getElementById('searchProduct').addEventListener('keyup', function() {
        const searchTerm = this.value.toLowerCase();
        const filteredProducts = products.filter(product =>
            product.name.toLowerCase().includes(searchTerm) ||
            product.brand.toLowerCase().includes(searchTerm) ||
            product.id.toLowerCase().includes(searchTerm)
        );
        renderFilteredProducts(filteredProducts);
    });

    function renderFilteredProducts(filteredProducts) {
        const tbody = document.getElementById('productTableBody');
        tbody.innerHTML = '';
        filteredProducts.forEach(product => {
            tbody.innerHTML += `
                    <tr>
                        <td>${product.id}</td>
                        <td>${product.name}</td>
                        <td>${product.brand}</td>
                        <td>${product.price.toLocaleString()} VNĐ</td>
                        <td>${product.quantity}</td>
                        <td>
                            <button class="btn btn-sm btn-primary" onclick="editProduct('${product.id}')">
                                <i class="fas fa-edit"></i> Sửa
                            </button>
                        </td>
                    </tr>
                `;
        });
    }

    renderProducts();
</script>
</body>
</html>