<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/fragments/navbar.css">
    <link rel="stylesheet" href="/css/fragments/sidebar.css">
    <link rel="stylesheet" href="/css/fragments/footer.css">
    <link rel="stylesheet" href="/css/common/toast.css">
    <link rel="stylesheet" href="/css/common/layout.css">

    <style>
        .form-section {
            background-color: #f8f9fa;
            border-radius: 10px;
            box-shadow: 0 .5rem 1rem rgba(0,0,0,.15);
            overflow: hidden;
        }

        .form-header {
            background: linear-gradient(135deg, #0062cc 0%, #007bff 100%);
            color: white;
            padding: 1.5rem;
            position: relative;
        }

        .form-label {
            font-weight: 600;
            color: #495057;
        }

        .form-control, .form-select {
            border-radius: 0.5rem;
            padding: 0.75rem;
            border: 1px solid #ced4da;
        }

        .form-control:focus, .form-select:focus {
            border-color: #007bff;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        .btn-create {
            background: linear-gradient(135deg, #0062cc 0%, #007bff 100%);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 0.5rem;
            font-weight: 600;
            letter-spacing: 0.5px;
            transition: all 0.3s;
        }

        .btn-create:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 123, 255, 0.3);
        }

        .btn-cancel {
            background-color: #6c757d;
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 0.5rem;
            font-weight: 600;
            letter-spacing: 0.5px;
            transition: all 0.3s;
        }

        .btn-cancel:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(108, 117, 125, 0.3);
        }

        .input-icon {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            left: 0.75rem;
            color: #6c757d;
        }

        .icon-input {
            padding-left: 2.5rem;
        }
    </style>
</head>
<body>
<div th:replace="~{common/toast}"></div>

<!-- Nhúng navbar -->
<nav th:replace="~{fragments/navbar :: navbar}"></nav>

<div class="content-wrapper">
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside th:replace="~{fragments/sidebar :: sidebar}"></aside>

        <!-- Main content -->
        <div class="content-container">
            <div class="container mt-3">
                <h2>Lich sử mua hoang</h2>
                <a class="btn btn-primary" th:href="@{/dashboard/admin/customers/invoice/sortName}">Sap xep theo ten khach hang</a>
                <a class="btn btn-info" th:href="@{/dashboard/admin/customers/invoice/sortProduct}">Sap xep theo ten san pham</a>
                <a class="btn btn-success" th:href="@{/dashboard/admin/customers/invoice/sortPrice}">Sap xep theo Tong tien</a>
                <table class="table table-bordered mt-2">
                    <thead>
                    <tr>
                        <th>STT</th>
                        <th>Time</th>
                        <th>Name Customer</th>
                        <th>Info</th>
                        <th>Total Money</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="invoiceDetail,index : ${invoiceDetailList}">
                        <td th:text="${index.index + 1 + invoiceDetailList.size * invoiceDetailList.number}"></td>
                        <td th:text="${#temporals.format(invoiceDetail.invoice.payDate,'dd-MM-yyyy')}"></td>
                        <td th:text="${invoiceDetail.invoice.customer.fullName}"></td>
                        <td th:text="${invoiceDetail.product.name}"></td>
                        <td th:text="${#numbers.formatDecimal(invoiceDetail.totalPrice,0,'POINT',0,'POINT')}"></td>
                    </tr>

                    </tbody>
                </table>

                <ul class="pagination" th:if="${invoiceDetailList.totalPages>0}">
                    <li class="page-item" th:if="${invoiceDetailList.hasPrevious()}">
                        <a class="page-link" th:href="@{/dashboard/admin/customers/invoice/list(page=${invoiceDetailList.number - 1})}">Trang truoc</a>
                    </li>

                    <li class="page-item" th:each="num : ${#numbers.sequence(0,invoiceDetailList.totalPages - 1)}">
                        <a th:classappend="${num == invoiceDetailList.number ? 'active' : ''}" class="page-link"
                           th:href="@{/dashboard/admin/customers/invoice/list(page = ${num + 1})}" th:text="${num + 1}"></a>
                    </li>

                    <li class="page-item" th:if="${invoiceDetailList.hasNext()}">
                        <a class="page-link" th:href="@{/dashboard/admin/customers/invoice/list(page=${invoiceDetailList.number + 1})}"> Trang sau</a>
                    </li>
                </ul>
            </div>

        </div>
    </div>
</div>
</body>
</html>